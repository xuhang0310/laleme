if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then(a=>t.resolve(e()).then(()=>a),a=>t.resolve(e()).then(()=>{throw a}))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}const a=(t,a=0)=>(a,l=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,a,l)},l=a("onShow",3),n=a("onLoad",2),c=(e,t)=>{const a=e.__vccOpts||e;for(const[l,n]of t)a[l]=n;return a},o=c({__name:"CustomTabBar",props:{current:{type:String,default:""}},setup(t){const a=e.computed(()=>{const e=getCurrentPages(),t=e[e.length-1];return t?t.route:""}),l=e=>{uni.switchTab({url:e})};return(t,n)=>(e.openBlock(),e.createElementBlock("view",{class:"tab-bar"},[e.createElementVNode("view",{class:"tab-bar-border"}),e.createElementVNode("view",{class:"tab-item",onClick:n[0]||(n[0]=e=>l("/pages/poop/index"))},[e.createElementVNode("text",{class:e.normalizeClass(["icon",{active:"pages/poop/index"===a.value}])},"ğŸ’©",2),e.createElementVNode("text",{class:e.normalizeClass(["text",{active:"pages/poop/index"===a.value}])},"æ‹‰äº†ä¹ˆ",2)]),e.createElementVNode("view",{class:"tab-item center-item-wrapper"},[e.createElementVNode("view",{class:"center-item",onClick:n[1]||(n[1]=e=>l("/pages/poop/add"))},[e.createElementVNode("text",{class:"center-text"},"è®°ä¸€ç¬”")])]),e.createElementVNode("view",{class:"tab-item",onClick:n[2]||(n[2]=e=>l("/pages/user/index"))},[e.createElementVNode("text",{class:e.normalizeClass(["icon",{active:"pages/user/index"===a.value}])},"ğŸ‘¤",2),e.createElementVNode("text",{class:e.normalizeClass(["text",{active:"pages/user/index"===a.value}])},"æˆ‘çš„",2)])]))}},[["__scopeId","data-v-ad17e97e"]]),s=c({__name:"index",setup(t){const a=e.ref([]),n=e.ref([]),c=e.ref("æœ¬äºº"),s=e.ref(null),r=e.ref(0),i=e.ref(0),m=e.computed(()=>c.value?a.value.filter(e=>(e.relation||"æœ¬äºº")===c.value):a.value),d=()=>{uni.navigateTo({url:"/pages/poop/report"})},u=()=>{const e=uni.getStorageSync("poop_records")||[];a.value=e.reverse(),v()},v=()=>{const e=uni.getStorageSync("family_members")||[];n.value=[{name:"æœ¬äºº"},...e]};return e.onMounted(()=>{u()}),l(()=>{uni.hideTabBar(),u()}),(t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"bg-decoration"}),e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"title-area"},[e.createElementVNode("text",{class:"title"},"æ—©å®‰ï¼Œ"),e.createElementVNode("text",{class:"subtitle"},"ä»Šå¤©ä¹Ÿè¦å…³æ³¨è‚ é“å¥åº·å“¦")]),e.createElementVNode("view",{class:"report-btn",onClick:d},[e.createElementVNode("text",{class:"icon"},"ğŸ“Š"),e.createElementVNode("text",null,"å¥åº·æŠ¥å‘Š")])]),e.createElementVNode("view",{class:"content-area"},[e.createElementVNode("view",{class:"filter-section"},[e.createElementVNode("scroll-view",{"scroll-x":"",class:"filter-scroll","show-scrollbar":!1},[e.createElementVNode("view",{class:"filter-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["filter-item",{active:c.value===t.name}]),key:a,onClick:e=>c.value=t.name},[e.createElementVNode("view",{class:"filter-avatar-placeholder"},e.toDisplayString(t.name[0]),1),e.createElementVNode("text",null,e.toDisplayString(t.name),1)],10,["onClick"]))),128))])])]),m.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"æœ€è¿‘è®°å½•")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"record-list"},[0===m.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createElementVNode("image",{class:"empty-img",src:"https://img.yzcdn.cn/vant/empty-image-default.png",mode:"widthFix"}),e.createElementVNode("text",{class:"empty-text"},"è¿˜æ²¡æœ‰è®°å½•å“¦ï¼Œå¿«å»è®°ä¸€ç¬”å§")])):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(m.value,(t,l)=>{return e.openBlock(),e.createElementBlock("view",{class:"record-item",key:l},[e.createElementVNode("view",{class:e.normalizeClass(["item-content",{swiped:s.value===t.timestamp}]),onTouchstart:e=>{return a=e,l=t.timestamp,null!==s.value&&s.value!==l&&(s.value=null),r.value=a.touches[0].clientX,void(i.value=a.touches[0].clientY);var a,l},onTouchend:e=>((e,t)=>{const a=e.changedTouches[0].clientX,l=e.changedTouches[0].clientY,n=a-r.value,c=l-i.value;Math.abs(n)>Math.abs(c)?n<-50?s.value=t:n>50&&s.value===t&&(s.value=null):Math.abs(n)<10&&Math.abs(c)<10&&s.value===t&&(s.value=null)})(e,t.timestamp)},[e.createElementVNode("view",{class:"item-main"},[e.createElementVNode("view",{class:"time-col"},[e.createElementVNode("text",{class:"date-text"},e.toDisplayString((m=t.date,m===(new Date).toLocaleDateString()?"ä»Šå¤©":m.slice(5))),1),e.createElementVNode("text",{class:"time-text"},e.toDisplayString(t.time),1)]),e.createElementVNode("view",{class:"info-col"},[e.createElementVNode("view",{class:"tags-row"},[e.createElementVNode("view",{class:e.normalizeClass(["relation-tag",(o=t.relation,{"æœ¬äºº":"tag-me","å°å­©":"tag-child","è€äºº":"tag-elder"}[o]||"tag-me")])},e.toDisplayString(t.relation||"æœ¬äºº"),3),e.createElementVNode("view",{class:e.normalizeClass(["status-tag",(c=t.color,c.includes("çº¢")||c.includes("é»‘")?"status-warning":c.includes("ç»¿")?"status-info":"status-normal")])},e.toDisplayString(t.shape)+" Â· "+e.toDisplayString(t.color),3)]),t.feeling?(e.openBlock(),e.createElementBlock("view",{key:0,class:"feeling-row"},[e.createElementVNode("text",{class:"feeling-text"},[e.createElementVNode("text",{class:"feeling-emoji"},e.toDisplayString((n=t.feeling,{"è¿…é€Ÿè§£å†³":"âš¡ï¸","è½»æ¾é¡ºç•…":"ğŸ˜Œ","æœ‰äº›è´¹åŠ›":"ğŸ˜“","éå¸¸å›°éš¾":"ğŸ˜–","è®°å½•å‡†ç¡®æ—¶é•¿":"â±"}[n]||"")),1),e.createTextVNode(" "+e.toDisplayString(t.feeling),1)]),t.duration?(e.openBlock(),e.createElementBlock("text",{key:0,class:"duration-text"}," Â· "+e.toDisplayString(t.duration),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),t.note?(e.openBlock(),e.createElementBlock("text",{key:1,class:"note-text"},e.toDisplayString(t.note),1)):e.createCommentVNode("",!0)])])],42,["onTouchstart","onTouchend"]),e.createElementVNode("view",{class:"delete-btn",onClick:e.withModifiers(e=>(e=>{uni.showModal({title:"ç¡®è®¤åˆ é™¤",content:"ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°å½•å—ï¼Ÿ",success:t=>{if(t.confirm){const t=a.value.findIndex(t=>t.timestamp===e.timestamp);t>-1&&(a.value.splice(t,1),uni.setStorageSync("poop_records",a.value),uni.showToast({title:"å·²åˆ é™¤",icon:"none"}),s.value=null)}}})})(t),["stop"])},[e.createElementVNode("text",null,"åˆ é™¤")],8,["onClick"])]);var n,c,o,m}),128))])]),e.createVNode(o)]))}},[["__scopeId","data-v-d0ce7577"]]),r=c({__name:"add",setup(t){const a=e.ref([]);l(()=>{uni.hideTabBar(),n()});const n=()=>{const e=uni.getStorageSync("family_members")||[];a.value=[{name:"æœ¬äºº"},...e]},c=()=>{uni.navigateTo({url:"/pages/family/add"})},s=new Date,r=e.ref(`${s.getHours().toString().padStart(2,"0")}:${s.getMinutes().toString().padStart(2,"0")}`),i=e.ref("æœ¬äºº"),m=["é¦™è•‰çŠ¶","ç¾Šç²ªçƒçŠ¶","ç³ŠçŠ¶","æ°´çŠ¶","ç¡¬æ¡çŠ¶"],d=e.ref(0),u=["æ£•è‰²","é»„è‰²","ç»¿è‰²","é»‘è‰²","çº¢è‰²(è¯·å°±åŒ»)"],v=e.ref(0),p=[{emoji:"âš¡ï¸",title:"è¿…é€Ÿè§£å†³",desc:"<5åˆ†é’Ÿï¼Œæ²¡çœ‹æ‰‹æœºå°±ç»“æŸäº†",duration:"<5"},{emoji:"ğŸ˜Œ",title:"è½»æ¾é¡ºç•…",desc:"5-15åˆ†é’Ÿï¼Œæ„Ÿè§‰è‰¯å¥½",duration:"5-15"},{emoji:"ğŸ˜“",title:"æœ‰äº›è´¹åŠ›",desc:"15-25åˆ†é’Ÿï¼ŒèŠ±äº†äº›æ—¶é—´",duration:"15-25"},{emoji:"ğŸ˜–",title:"éå¸¸å›°éš¾",desc:">25åˆ†é’Ÿï¼Œè€—æ—¶å¾ˆé•¿",duration:">25"},{emoji:"â±",title:"è®°å½•å‡†ç¡®æ—¶é•¿",desc:"ç‚¹å‡»è¾“å…¥å…·ä½“åˆ†é’Ÿæ•°",duration:"custom"}],E=e.ref(1),V=e.ref(""),N=e.ref(""),g=e=>{r.value=e.detail.value},w=()=>{const e=p[E.value];let t=e.duration;if(4===E.value){if(!V.value)return void uni.showToast({title:"è¯·è¾“å…¥å…·ä½“æ—¶é•¿",icon:"none"});t=V.value+"åˆ†é’Ÿ"}const a={date:(new Date).toLocaleDateString(),time:r.value,relation:i.value,shape:m[d.value],color:u[v.value],feeling:e.title,duration:t,note:N.value,timestamp:(new Date).getTime()},l=uni.getStorageSync("poop_records")||[];l.push(a);try{uni.setStorageSync("poop_records",l),uni.showToast({title:"è®°å½•æˆåŠŸ",icon:"success"}),setTimeout(()=>{uni.switchTab({url:"/pages/poop/index"})},1500)}catch(n){uni.showToast({title:"å­˜å‚¨ç©ºé—´ä¸è¶³",icon:"none"})}};return(t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"form-card"},[e.createElementVNode("view",{class:"section-title"},"åŸºæœ¬ä¿¡æ¯"),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("text",{class:"label"},"è®°å½•å¯¹è±¡"),e.createElementVNode("scroll-view",{"scroll-x":"",class:"chips-scroll","show-scrollbar":!1},[e.createElementVNode("view",{class:"relation-selector"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["relation-item",{active:i.value===t.name}]),key:a,onClick:e=>(e=>{i.value=e.name})(t)},[e.createElementVNode("view",{class:"member-avatar-placeholder"},e.toDisplayString(t.name[0]),1),e.createElementVNode("text",{class:"relation-text"},e.toDisplayString(t.name),1),i.value===t.name?(e.openBlock(),e.createElementBlock("view",{key:0,class:"check-mark"},"âœ“")):e.createCommentVNode("",!0)],10,["onClick"]))),128)),e.createElementVNode("view",{class:"relation-item add-btn",onClick:c},[e.createElementVNode("text",{class:"relation-text"},"+")])])])]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("text",{class:"label"},"è®°å½•æ—¶é—´"),e.createElementVNode("picker",{mode:"time",value:r.value,onChange:g},[e.createElementVNode("view",{class:"time-display"},[e.createElementVNode("text",{class:"time-val"},e.toDisplayString(r.value),1),e.createElementVNode("text",{class:"arrow"},">")])],40,["value"])])]),e.createElementVNode("view",{class:"form-card"},[e.createElementVNode("view",{class:"section-title"},"ä¾¿ä¾¿è¯¦æƒ…"),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("text",{class:"label"},"å½¢çŠ¶"),e.createElementVNode("scroll-view",{"scroll-x":"",class:"chips-scroll","show-scrollbar":!1},[e.createElementVNode("view",{class:"chips-wrapper"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(m,(t,a)=>e.createElementVNode("view",{class:e.normalizeClass(["chip",{active:d.value===a}]),key:a,onClick:e=>d.value=a},[e.createElementVNode("text",null,e.toDisplayString(t),1)],10,["onClick"])),64))])])]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("text",{class:"label"},"é¢œè‰²"),e.createElementVNode("scroll-view",{"scroll-x":"",class:"chips-scroll","show-scrollbar":!1},[e.createElementVNode("view",{class:"chips-wrapper"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(u,(t,a)=>e.createElementVNode("view",{class:e.normalizeClass(["chip",{active:v.value===a}]),key:a,onClick:e=>v.value=a},[e.createElementVNode("text",null,e.toDisplayString(t),1)],10,["onClick"])),64))])])]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("text",{class:"label"},"æ’ä¾¿æ„Ÿå—"),e.createElementVNode("view",{class:"feeling-list"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(p,(t,a)=>e.createElementVNode("view",{class:e.normalizeClass(["feeling-item",{active:E.value===a}]),key:a,onClick:e=>(e=>{E.value=e,4!==e&&(V.value="")})(a)},[e.createElementVNode("text",{class:"feeling-emoji"},e.toDisplayString(t.emoji),1),e.createElementVNode("view",{class:"feeling-content"},[e.createElementVNode("text",{class:"feeling-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"feeling-desc"},e.toDisplayString(t.desc),1)]),E.value===a?(e.openBlock(),e.createElementBlock("view",{key:0,class:"check-mark"},"âœ“")):e.createCommentVNode("",!0)],10,["onClick"])),64))]),4===E.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"duration-input"},[e.createElementVNode("text",{class:"duration-label"},"å…·ä½“æ—¶é•¿(åˆ†é’Ÿ)"),e.withDirectives(e.createElementVNode("input",{class:"duration-field",type:"number","onUpdate:modelValue":l[0]||(l[0]=e=>V.value=e),placeholder:"è¯·è¾“å…¥"},null,512),[[e.vModelText,V.value]])])):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"form-card"},[e.createElementVNode("view",{class:"section-title"},"å…¶ä»–"),e.createElementVNode("view",{class:"form-group no-border"},[e.createElementVNode("text",{class:"label"},"å¤‡æ³¨"),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":l[1]||(l[1]=e=>N.value=e),placeholder:"å†™ç‚¹ä»€ä¹ˆ...","placeholder-style":"color:#C0C4CC"},null,512),[[e.vModelText,N.value]])])])]),e.createElementVNode("view",{class:"footer-action"},[e.createElementVNode("button",{class:"save-btn",onClick:w},"ä¿å­˜è®°å½•")]),e.createVNode(o)]))}},[["__scopeId","data-v-e366cb72"]]),i=c({__name:"report",setup(t){const a=e.ref("week"),l=e.ref([]),n=e.ref("æœ¬äºº"),c=e.ref(100),o=e.ref([]),s=e.ref([]),r=e.ref([]),i=e.ref({}),m=e.ref({}),d=e.ref([]),u=e=>{a.value=e,v()},v=()=>{const e=new Date,t="week"===a.value?7:30,l=e.getTime()-24*t*60*60*1e3,o=d.value.filter(e=>{const t=e.timestamp||new Date(e.date).getTime(),a=(e.relation||"æœ¬äºº")===n.value;return t>l&&a}),s={},u={},v={};for(let a=t-1;a>=0;a--){const t=new Date(e.getTime()-24*a*60*60*1e3),l=`${t.getMonth()+1}/${t.getDate()}`;v[l]=0}let E=0,V=0,N=0,g=0;const w=[];o.forEach(e=>{s[e.shape]=(s[e.shape]||0)+1,u[e.color]=(u[e.color]||0)+1;const t=new Date(e.timestamp||e.date),a=`${t.getMonth()+1}/${t.getDate()}`;void 0!==v[a]&&v[a]++;let l=100;"é¦™è•‰çŠ¶"===e.shape||"ç¡¬æ¡çŠ¶"===e.shape?l-=0:"ç¾Šç²ªçƒçŠ¶"===e.shape?l-=15:"æ°´çŠ¶"===e.shape?l-=20:"ç³ŠçŠ¶"===e.shape&&(l-=10),e.color.includes("çº¢")?l-=40:e.color.includes("é»‘")?l-=30:e.color.includes("ç»¿")&&(l-=10),"éå¸¸å›°éš¾"===e.feeling?l-=15:"æœ‰äº›è´¹åŠ›"===e.feeling&&(l-=5),E+=Math.max(0,l),V++,"ç¾Šç²ªçƒçŠ¶"===e.shape&&N++,e.color.includes("ç»¿")&&g++,w.push(e.shape)}),c.value=V>0?Math.round(E/V):100,i.value=s,m.value=u,r.value=Object.keys(v).map(e=>({label:e,count:v[e]})),p(o,N,g)},p=(e,t,a)=>{if(o.value=[],s.value=[],t>=3&&o.value.push({title:"ä¾¿ç§˜é¢„è­¦",desc:"è¿‘æœŸå¤šæ¬¡å‡ºç°ç¾Šç²ªçƒçŠ¶ä¾¿ï¼Œå»ºè®®ç«‹å³å¢åŠ é¥®æ°´å’Œè†³é£Ÿçº¤ç»´ã€‚"}),a>=3&&o.value.push({title:"æ¶ˆåŒ–å¼‚å¸¸",desc:"è¿ç»­å‡ºç°ç»¿è‰²ä¾¿ï¼Œå¯èƒ½æ˜¯æ¶ˆåŒ–ä¸è‰¯æˆ–æ‘„å…¥è¿‡å¤šæ·±è‰²è”¬èœï¼Œè¯·æŒç»­è§‚å¯Ÿã€‚"}),0===e.length)return void s.value.push({emoji:"ğŸ’¡",text:"æš‚æ— è®°å½•ï¼Œä¿æŒè®°å½•ä¹ æƒ¯æœ‰åŠ©äºå‘ç°å¥åº·é—®é¢˜å“¦ã€‚"});const l=Object.keys(i.value),n=l.reduce((e,t)=>i.value[e]>i.value[t]?e:t,l[0]);"ç¾Šç²ªçƒçŠ¶"===n||"ç¡¬æ¡çŠ¶"===n?(s.value.push({emoji:"ğŸ¥¦",text:"è¿‘æœŸæ’ä¾¿åå¹²ï¼Œå»ºè®®å¢åŠ è†³é£Ÿçº¤ç»´æ‘„å…¥ï¼Œå¦‚ç‡•éº¦ã€è¥¿å…°èŠ±ã€ç«é¾™æœã€‚",link:"constipation"}),s.value.push({emoji:"ğŸ’§",text:"æ¯å¤©æ—©èµ·ä¸€æ¯æ¸©æ°´ï¼Œä¿ƒè¿›è‚ é“è •åŠ¨ã€‚"})):"æ°´çŠ¶"===n||"ç³ŠçŠ¶"===n?s.value.push({emoji:"ğŸ¥£",text:"è¿‘æœŸå¤§ä¾¿ä¸æˆå½¢ï¼Œæ³¨æ„è…¹éƒ¨ä¿æš–ï¼Œå°‘åƒç”Ÿå†·æ²¹è…»é£Ÿç‰©ã€‚",link:"diarrhea"}):s.value.push({emoji:"ğŸŒŸ",text:"è¿‘æœŸä¾¿ä¾¿å½¢çŠ¶å¾ˆå®Œç¾ï¼Œç»§ç»­ä¿æŒå¥åº·çš„é¥®é£Ÿä¹ æƒ¯ï¼"}),m.value["çº¢è‰²(è¯·å°±åŒ»)"]&&o.value.unshift({title:"ä¸¥é‡è­¦å‘Š",desc:"å‘ç°çº¢è‰²ä¾¿ä¾¿è®°å½•ï¼Œå¦‚éé£Ÿç”¨çº¢å¿ƒç«é¾™æœç­‰é£Ÿç‰©ï¼Œè¯·åŠæ—¶å°±åŒ»ï¼"})},E=e=>e>=90?"è‚ é“çŠ¶å†µæä½³":e>=80?"è‚ é“çŠ¶å†µè‰¯å¥½":e>=60?"è‚ é“çŠ¶å†µä¸€èˆ¬":"è‚ é“éœ€æ³¨æ„",V=e=>e>=80?"ç»§ç»­ä¿æŒå“¦":e>=60?"æœ‰å¾…æ”¹å–„ï¼Œæ³¨æ„é¥®é£Ÿ":"å»ºè®®è°ƒæ•´ä½œæ¯ä¸é¥®é£Ÿ";return e.onMounted(()=>{(()=>{const e=uni.getStorageSync("family_members")||[];l.value=[{name:"æœ¬äºº"},...e],d.value=uni.getStorageSync("poop_records")||[],v()})()}),(t,d)=>{return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"bg-header"}),e.createElementVNode("view",{class:"content-wrapper"},[e.createElementVNode("view",{class:"filter-header"},[e.createElementVNode("view",{class:"time-tabs"},[e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"week"===a.value}]),onClick:d[0]||(d[0]=e=>u("week"))},"è¿‘ä¸€å‘¨",2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"month"===a.value}]),onClick:d[1]||(d[1]=e=>u("month"))},"è¿‘ä¸€æœˆ",2)]),e.createElementVNode("scroll-view",{"scroll-x":"",class:"member-scroll","show-scrollbar":!1},[e.createElementVNode("view",{class:"member-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["member-item",{active:n.value===t.name}]),key:a,onClick:e=>{return a=t.name,n.value=a,void v();var a}},[e.createElementVNode("view",{class:"member-avatar-placeholder"},e.toDisplayString(t.name[0]),1),e.createElementVNode("text",null,e.toDisplayString(t.name),1)],10,["onClick"]))),128))])])]),e.createElementVNode("view",{class:"report-card main-card"},[e.createElementVNode("view",{class:"card-inner"},[e.createElementVNode("view",{class:e.normalizeClass(["score-ring",(p=c.value,p>=80?"score-high":p>=60?"score-mid":"score-low")])},[e.createElementVNode("text",{class:"score-val"},e.toDisplayString(c.value),1),e.createElementVNode("text",{class:"score-label"},"å¥åº·åˆ†")],2),e.createElementVNode("view",{class:"score-summary"},[e.createElementVNode("text",{class:"summary-title"},e.toDisplayString(E(c.value)),1),e.createElementVNode("text",{class:"summary-desc"},e.toDisplayString(V(c.value)),1)])])]),o.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"alert-section"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"alert-card",key:a},[e.createElementVNode("text",{class:"alert-icon"},"âš ï¸"),e.createElementVNode("view",{class:"alert-content"},[e.createElementVNode("text",{class:"alert-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"alert-desc"},e.toDisplayString(t.desc),1)])]))),128))])):e.createCommentVNode("",!0),s.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"chart-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"å¥åº·å»ºè®®")]),e.createElementVNode("view",{class:"advice-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"advice-item",key:a},[e.createElementVNode("text",{class:"advice-emoji"},e.toDisplayString(t.emoji),1),e.createElementVNode("view",{class:"advice-content"},[e.createElementVNode("text",{class:"advice-text"},e.toDisplayString(t.text),1),t.link?(e.openBlock(),e.createElementBlock("text",{key:0,class:"advice-link",onClick:e=>{return a=t.link,void uni.showModal({title:{constipation:"ä¾¿ç§˜ç§‘æ™®",diarrhea:"è…¹æ³»ç§‘æ™®"}[a]||"å¥åº·ç§‘æ™®",content:{constipation:"ä¾¿ç§˜æ˜¯æŒ‡æ’ä¾¿æ¬¡æ•°å‡å°‘ï¼ˆæ¯å‘¨å°‘äº3æ¬¡ï¼‰ã€ç²ªä¾¿å¹²ç¡¬ã€æ’ä¾¿å›°éš¾ã€‚å»ºè®®ï¼š1. å¤šå–æ°´ï¼›2. å¤šåƒè”¬èœæ°´æœç²—ç²®ï¼›3. å…»æˆå®šæ—¶æ’ä¾¿ä¹ æƒ¯ï¼›4. é€‚å½“è¿åŠ¨ã€‚",diarrhea:"è…¹æ³»æ˜¯æŒ‡æ’ä¾¿æ¬¡æ•°æ˜æ˜¾è¶…è¿‡å¹³æ—¥ä¹ æƒ¯ï¼Œç²ªè´¨ç¨€è–„ï¼Œæ°´åˆ†å¢åŠ ã€‚å»ºè®®ï¼š1. é˜²è„±æ°´ï¼Œè¡¥å……ç”µè§£è´¨ï¼›2. æ¸…æ·¡é¥®é£Ÿï¼Œåƒå°ç±³ç²¥ã€é¢æ¡ï¼›3. é¿å…ä¹³åˆ¶å“å’Œæ²¹è…»é£Ÿç‰©ã€‚"}[a]||"æš‚æ— è¯¦ç»†å†…å®¹",showCancel:!1,confirmText:"çŸ¥é“äº†"});var a}},"äº†è§£æ›´å¤š >",8,["onClick"])):e.createCommentVNode("",!0)])]))),128))])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"chart-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"æ’ä¾¿é¢‘ç‡è¶‹åŠ¿")]),e.createElementVNode("view",{class:"chart-card"},[e.createElementVNode("view",{class:"bar-chart"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(t,a)=>{return e.openBlock(),e.createElementBlock("view",{class:"chart-bar-group",key:a},[e.createElementVNode("view",{class:"bar-column"},[e.createElementVNode("view",{class:"bar-value",style:e.normalizeStyle({height:(l=t.count,l/Math.max(...r.value.map(e=>e.count),3)*100+"%")})},null,4)]),e.createElementVNode("text",{class:"bar-label"},e.toDisplayString(t.label),1)]);var l}),128))])])]),e.createElementVNode("view",{class:"chart-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"å½¢çŠ¶åˆ†å¸ƒ")]),e.createElementVNode("view",{class:"tags-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"grid-item",key:a},[e.createElementVNode("text",{class:"grid-val"},e.toDisplayString(t),1),e.createElementVNode("text",{class:"grid-label"},e.toDisplayString(a),1)]))),128))])]),e.createElementVNode("view",{class:"chart-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"é¢œè‰²åˆ†å¸ƒ")]),e.createElementVNode("view",{class:"tags-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,(t,a)=>{return e.openBlock(),e.createElementBlock("view",{class:"grid-item",key:a},[e.createElementVNode("text",{class:"grid-val",style:e.normalizeStyle({color:(l=a,l.includes("çº¢")?"#EF4444":l.includes("ç»¿")?"#10B981":l.includes("é»„")?"#F59E0B":l.includes("é»‘")?"#1F2937":"#1A1D26")})},e.toDisplayString(t),5),e.createElementVNode("text",{class:"grid-label"},e.toDisplayString(a),1)]);var l}),128))])])])]);var p}}},[["__scopeId","data-v-c3d930a2"]]),m=c({__name:"index",setup(t){const a=e.ref([{id:1,name:"Kevin æ€»ç›‘",shop:"é¡¶å°šé€ å‹ (ä¸‰é‡Œå±¯åº—)",avatar:"https://img.yzcdn.cn/vant/cat.jpeg",tags:["æ“…é•¿çŸ­å‘","10å¹´ç»éªŒ","æ—¥ç³»"],distance:.8},{id:2,name:"Tony è€å¸ˆ",shop:"åæµå‘è‰º",avatar:"https://img.yzcdn.cn/vant/cat.jpeg",tags:["æŸ“å‘ä¸“å®¶","è®¾è®¡å‰ª"],distance:1.2},{id:3,name:"Lucy é€ å‹",shop:"ç®€çº¦é€ å‹",avatar:"https://img.yzcdn.cn/vant/cat.jpeg",tags:["ç»†å¿ƒ","éŸ©å¼çƒ«å‘"],distance:2.5}]);return(t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"å‰ªäº†ä¹ˆ"),e.createElementVNode("text",{class:"subtitle"},"å‘ç°èº«è¾¹çš„ Tony è€å¸ˆ")]),e.createElementVNode("view",{class:"barber-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,t=>(e.openBlock(),e.createElementBlock("view",{class:"barber-item",key:t.id,onClick:e=>(e=>{uni.navigateTo({url:`/pages/haircut/detail?id=${e.id}&name=${e.name}`})})(t)},[e.createElementVNode("view",{class:"item-left"},[e.createElementVNode("image",{class:"avatar",src:t.avatar,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"item-right"},[e.createElementVNode("view",{class:"info-row-1"},[e.createElementVNode("text",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"distance-badge"},[e.createElementVNode("text",{class:"icon"},"ğŸ“"),e.createElementVNode("text",null,e.toDisplayString(t.distance)+"km",1)])]),e.createElementVNode("text",{class:"shop-name"},e.toDisplayString(t.shop),1),e.createElementVNode("view",{class:"tags-row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.tags,t=>(e.openBlock(),e.createElementBlock("view",{class:"tag",key:t},e.toDisplayString(t),1))),128))]),e.createElementVNode("view",{class:"action-row"},[e.createElementVNode("view",{class:"rating"},[e.createElementVNode("text",{class:"star"},"â˜…"),e.createElementVNode("text",{class:"score"},"4.9")]),e.createElementVNode("button",{class:"book-btn"},"é¢„çº¦")])])],8,["onClick"]))),128))])]))}},[["__scopeId","data-v-8ae973f7"]]),d=c({__name:"detail",setup(t){const a=e.ref(""),l=e.ref([{id:1,name:"ç²¾è‡´å‰ªå‘",desc:"è®¾è®¡å‰ªå‘ï¼Œå«æ´—å¹",price:68},{id:2,name:"æ—¶å°šæŸ“å‘",desc:"åŸºç¡€æŸ“å‘ï¼Œä¸å«æ¼‚",price:268},{id:3,name:"è´¨æ„Ÿçƒ«å‘",desc:"å†·çƒ«/çƒ­çƒ«ï¼Œä¸ä¼¤å‘",price:368}]);n(e=>{e.name&&(a.value=e.name)});const c=()=>{uni.showModal({title:"é¢„çº¦ç¡®è®¤",content:"ç¡®å®šè¦é¢„çº¦ "+a.value+" å—ï¼Ÿ",confirmColor:"#1A1D26",success:e=>{e.confirm&&(uni.showToast({title:"é¢„çº¦æˆåŠŸ",icon:"success"}),setTimeout(()=>{uni.navigateBack()},1500))}})};return(t,n)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header-banner"},[e.createElementVNode("view",{class:"overlay"}),e.createElementVNode("view",{class:"header-content"},[e.createElementVNode("view",{class:"avatar-wrapper"},[e.createElementVNode("view",{class:"avatar-placeholder"})]),e.createElementVNode("view",{class:"info-text"},[e.createElementVNode("text",{class:"name"},e.toDisplayString(a.value),1),e.createElementVNode("text",{class:"desc"},"ä¸“ä¸šç†å‘å¸ˆï¼Œä¸ºæ‚¨æ‰“é€ ä¸“å±é€ å‹"),e.createElementVNode("view",{class:"meta-row"},[e.createElementVNode("text",{class:"meta-item"},"ä»ä¸š10å¹´"),e.createElementVNode("text",{class:"divider"},"|"),e.createElementVNode("text",{class:"meta-item"},"å¥½è¯„ç‡ 99%")])])])]),e.createElementVNode("view",{class:"body-content"},[e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"æœåŠ¡é¡¹ç›®")]),e.createElementVNode("view",{class:"service-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,t=>(e.openBlock(),e.createElementBlock("view",{class:"service-item",key:t.id},[e.createElementVNode("view",{class:"item-left"},[e.createElementVNode("text",{class:"service-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"service-desc"},e.toDisplayString(t.desc),1)]),e.createElementVNode("view",{class:"item-right"},[e.createElementVNode("text",{class:"price"},"Â¥"+e.toDisplayString(t.price),1),e.createElementVNode("view",{class:"select-btn"},"é€‰æ‹©")])]))),128))])])]),e.createElementVNode("view",{class:"bottom-bar"},[e.createElementVNode("button",{class:"book-btn",onClick:c},"ç«‹å³é¢„çº¦")])]))}},[["__scopeId","data-v-e1077f52"]]),u=c({__name:"index",setup(t){l(()=>{uni.hideTabBar()});const a=e=>{"report"===e?uni.navigateTo({url:"/pages/poop/report"}):uni.showToast({title:"åŠŸèƒ½å¼€å‘ä¸­",icon:"none"})};return(t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"user-card"},[e.createElementVNode("view",{class:"avatar-area"},[e.createElementVNode("view",{class:"avatar"})]),e.createElementVNode("view",{class:"info-area"},[e.createElementVNode("text",{class:"username"},"å¾®ä¿¡ç”¨æˆ·"),e.createElementVNode("text",{class:"user-id"},"ID: 888888")]),e.createElementVNode("view",{class:"edit-btn"},[e.createElementVNode("text",null,"ç¼–è¾‘")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:l[0]||(l[0]=e=>a("appointments"))},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("text",{class:"icon"},"ğŸ“…"),e.createElementVNode("text",{class:"label"},"æˆ‘çš„é¢„çº¦")]),e.createElementVNode("text",{class:"arrow"},">")]),e.createElementVNode("view",{class:"menu-item",onClick:l[1]||(l[1]=e=>a("report"))},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("text",{class:"icon"},"ğŸ“Š"),e.createElementVNode("text",{class:"label"},"å¥åº·å‘¨æŠ¥")]),e.createElementVNode("text",{class:"arrow"},">")]),e.createElementVNode("view",{class:"menu-item",onClick:l[2]||(l[2]=e=>a("settings"))},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("text",{class:"icon"},"âš™ï¸"),e.createElementVNode("text",{class:"label"},"è®¾ç½®")]),e.createElementVNode("text",{class:"arrow"},">")])]),e.createVNode(o)]))}},[["__scopeId","data-v-5eee58a2"]]),v=c({__name:"add",setup(t){const a=e.ref(""),l=e.ref("ç”·"),n=["ç”·","å¥³"],c=e.ref(""),o=e=>{c.value=e.detail.value},s=()=>{if(!a.value)return void uni.showToast({title:"è¯·è¾“å…¥ç§°å‘¼",icon:"none"});if(!c.value)return void uni.showToast({title:"è¯·é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ",icon:"none"});const e={id:Date.now().toString(),name:a.value,gender:l.value,birthday:c.value},t=uni.getStorageSync("family_members")||[];t.push(e);try{uni.setStorageSync("family_members",t),uni.showToast({title:"æ·»åŠ æˆåŠŸ",icon:"success"}),setTimeout(()=>{uni.navigateBack()},1500)}catch(n){uni.showToast({title:"å­˜å‚¨å¤±è´¥",icon:"none"})}};return(t,r)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"form-card"},[e.createElementVNode("view",{class:"section-title"},"åŸºæœ¬ä¿¡æ¯"),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("text",{class:"label"},"ç§°å‘¼"),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":r[0]||(r[0]=e=>a.value=e),placeholder:"ä¾‹å¦‚ï¼šå®å®ã€çˆ·çˆ·","placeholder-style":"color:#C0C4CC"},null,512),[[e.vModelText,a.value]])])]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("text",{class:"label"},"æ€§åˆ«"),e.createElementVNode("view",{class:"relation-selector"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(n,(t,a)=>e.createElementVNode("view",{class:e.normalizeClass(["relation-item",{active:l.value===t}]),key:a,onClick:e=>l.value=t},[e.createElementVNode("text",{class:"relation-text"},e.toDisplayString(t),1),l.value===t?(e.openBlock(),e.createElementBlock("view",{key:0,class:"check-mark"},"âœ“")):e.createCommentVNode("",!0)],10,["onClick"])),64))])]),e.createElementVNode("view",{class:"form-group no-border"},[e.createElementVNode("text",{class:"label"},"å‡ºç”Ÿå¹´æœˆ"),e.createElementVNode("picker",{mode:"date",value:c.value,onChange:o},[e.createElementVNode("view",{class:"time-display"},[e.createElementVNode("text",{class:"time-val"},e.toDisplayString(c.value||"è¯·é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ"),1),e.createElementVNode("text",{class:"arrow"},">")])],40,["value"])])]),e.createElementVNode("view",{class:"footer-action"},[e.createElementVNode("button",{class:"save-btn",onClick:s},"ä¿å­˜å®¶äºº")])]))}},[["__scopeId","data-v-7a840736"]]);const p=c({data:()=>({title:"Hello"}),onLoad(){},methods:{}},[["render",function(t,a,l,n,c,o){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("image",{class:"logo",src:"/static/logo.png"}),e.createElementVNode("view",{class:"text-area"},[e.createElementVNode("text",{class:"title"},e.toDisplayString(c.title),1)])])}]]);__definePage("pages/poop/index",s),__definePage("pages/poop/add",r),__definePage("pages/poop/report",i),__definePage("pages/haircut/index",m),__definePage("pages/haircut/detail",d),__definePage("pages/user/index",u),__definePage("pages/family/add",v),__definePage("pages/index/index",p);const E={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:V,Vuex:N,Pinia:g}={app:e.createVueApp(E)};uni.Vuex=N,uni.Pinia=g,V.provide("__globalStyles",__uniConfig.styles),V._component.mpType="app",V._component.render=()=>{},V.mount("#app")}(Vue);
