# ç ”å‘è¯„å®¡è®°å½• (Engineering Review)

> Generated based on technical review of `PLAN.md` and current project status.

## ğŸš¨ P0: é˜»æ–­æ€§é—®é¢˜ (Blockers)
- [ ] **ä¾èµ–ç¼ºå¤± (Missing Dependency)**
    - **ç°çŠ¶**: `package.json` ä¸­ç¼ºå°‘ `pinia`ã€‚
    - **é£é™©**: Vue 3 ç”Ÿæ€çš„æ ‡å‡†çŠ¶æ€ç®¡ç†åº“ç¼ºå¤±ï¼Œå¯¼è‡´ `usePetStore` æ— æ³•å®ç°ã€‚
    - **è¡ŒåŠ¨**: éœ€è¿è¡Œ `npm install pinia pinia-plugin-persistedstate`ã€‚
- [ ] **èµ„æºå‘½åé”™è¯¯ (Typo)**
    - **ç°çŠ¶**: ä»£ç ä¸­å¼•ç”¨ `/static/puppy_hugry.png`ï¼Œæ–‡ä»¶åæ‹¼å†™é”™è¯¯ï¼ˆåº”ä¸º `hungry`ï¼‰ã€‚
    - **é£é™©**: é•¿æœŸç»´æŠ¤å›°éš¾ï¼Œå®¹æ˜“å¯¼è‡´ 404 é”™è¯¯ã€‚
    - **è¡ŒåŠ¨**: é‡å‘½åæ–‡ä»¶å¹¶å…¨å±€æ›¿æ¢å¼•ç”¨ã€‚

## âš ï¸ P1: æ ¸å¿ƒé£é™© (Core Risks)
- [ ] **æ—¶é—´ä½œå¼Š (Time Cheating)**
    - **é—®é¢˜**: ä¾èµ– `Date.now()` è®¡ç®—ç¦»çº¿è¡°å‡ï¼Œç”¨æˆ·ä¿®æ”¹æ‰‹æœºæ—¶é—´å¯åˆ·â€œç­¾åˆ°â€æˆ–é‡ç½®â€œé¥¥é¥¿â€ã€‚
    - **å»ºè®®**: 
        1. ç®€å•é˜²æŠ¤ï¼šè®°å½• `lastSaveTime`ï¼Œå¦‚æœ `current < lastSaveTime` åˆ™åˆ¤å®šä¸ºæ—¶é—´å¼‚å¸¸ï¼Œä¸è¿›è¡Œç»“ç®—ã€‚
        2. ä¸¥æ ¼é˜²æŠ¤ï¼šè¯·æ±‚æœåŠ¡å™¨æ—¶é—´ï¼ˆéœ€åç«¯æ”¯æŒï¼‰ã€‚
- [ ] **æ•°æ®ä¸¢å¤± (Data Loss)**
    - **é—®é¢˜**: ä»…ä½¿ç”¨ `uni.setStorage`ã€‚
    - **é£é™©**: ç”¨æˆ·æ¸…ç†ç¼“å­˜æˆ–å¸è½½é‡è£…åï¼Œæ‰€æœ‰å…»æˆè¿›åº¦ï¼ˆç­‰çº§ã€äº²å¯†åº¦ï¼‰æ¸…é›¶ã€‚
    - **å»ºè®®**: æ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·æ•°æ®ä»…åœ¨æœ¬åœ°ï¼Œæˆ–è§„åˆ’äº‘åŒæ­¥åŠŸèƒ½ï¼ˆPLAN 7.0ï¼‰ã€‚

## ğŸ“ P2: å¾…åŠä»»åŠ¡ & èµ„äº§æ¸…å• (To-Do & Assets)
### å¿…éœ€ç¾æœ¯èµ„äº§
- [ ] **Idle (æ­£å¸¸)**: `puppy_idle.png` (å‘¼å¸)
- [ ] **Happy (å¼€å¿ƒ)**: `puppy_happy.png` (æŠšæ‘¸/å–‚é£Ÿåé¦ˆ)
- [ ] **Hungry (é¥¥é¥¿)**: `puppy_hungry.png` (éœ€åŒ…å«è‚šå­å«å›¾æ ‡æˆ–å§”å±ˆè¡¨æƒ…)
- [ ] **Starving (æé¥¿)**: `puppy_starving.png` (è¶´ä¸‹/ç°åº¦å›¾)
- [ ] **Props (é“å…·)**: `icon_food.png` (ç‹—ç²®), `icon_poop.png` (ä¾¿ä¾¿)

### é€»è¾‘å®Œå–„
- [ ] **çŠ¶æ€äº’æ–¥**: 
    - æé¥¿çŠ¶æ€ä¸‹ (Hunger=0) æ˜¯å¦å…è®¸æŠšæ‘¸ï¼Ÿå»ºè®®ï¼šç¦æ­¢æŠšæ‘¸ï¼Œç‚¹å‡»ä»…æç¤ºâ€œå®ƒé¥¿æ™•äº†ï¼Œå¿«å–‚é£Ÿâ€ã€‚
- [ ] **é˜²æŠ–è®¾è®¡**: 
    - å–‚é£ŸæŒ‰é’®éœ€åŠ é˜²æŠ– (Debounce)ï¼Œé˜²æ­¢ç”¨æˆ·è¿ç‚¹å¯¼è‡´åŠ¨ç”»å †å æˆ–èµ„æºæ‰£é™¤å¼‚å¸¸ã€‚

## ğŸ’¡ æ¶æ„å»ºè®® (Architecture)
1. **Store æ‹†åˆ†**:
    - `usePetStore`: è´Ÿè´£å±æ€§è®¡ç®—ï¼ˆé¥±é£Ÿåº¦ã€äº²å¯†åº¦ï¼‰ã€‚
    - `useUserStore`: è´Ÿè´£èµ„äº§ç®¡ç†ï¼ˆç‹—ç²®ä½™é¢ã€è®°å½•æ¬¡æ•°ï¼‰ã€‚
2. **Composable**:
    - æŠ½ç¦» `useGameLoop`: ä¸“é—¨å¤„ç† `onShow` æ—¶çš„ç¦»çº¿æ—¶é—´ç»“ç®—é€»è¾‘ã€‚

## âœ… å·²è§£å†³çš„é£é™© (Resolved Risks)
- [x] **æ¶æ€§é€šèƒ€ (Hyper-Inflation)**
    - **æ–¹æ¡ˆ**: åœ¨ `PLAN.md` 3.2 èŠ‚å¼•å…¥äº†æ”¶ç›Šé€’å‡ (Diminishing Returns) å’Œ ä»“å‚¨ä¸Šé™ (Wallet Cap) æœºåˆ¶ã€‚
    - **æ•ˆæœ**: æ—¥ç›ˆä½™æ§åˆ¶åœ¨ +17g (çº¦0.3å¤©å£ç²®)ï¼Œæœç»äº†åˆ·åˆ†å¯èƒ½ã€‚
